### 一、 常用快捷键

| 快捷键     | 解释                                                         |
| ---------- | ------------------------------------------------------------ |
| Tab        | 自动补全，或为你显示全部可能的结果                           |
| Ctrl + C   | 终止终端上的命令或进程，或停止后台运行的程序                 |
| Ctrl + Z   | 将正在运行的程序送到后台（或在运行程序前使用&选项完成这个操作） |
| Ctrl + D   | 退出终端                                                     |
| Ctrl + L   | 清除终端                                                     |
| Ctrl + A   | 将移动光标移到行首                                           |
| Ctrl + E   | 将移动光标移到行尾                                           |
| Ctrl + U   | 擦除当前光标位置到行首的全部内容                             |
| Ctrl + K   | 擦除当前光标位置到行尾的全部内容                             |
| Ctrl + Y   | 粘贴已擦除的文本                                             |
| Ctrl + R   | 搜索历史命令                                                 |
| Ctrl+shift | 放大终端字体                                                 |
| Ctrl+ -    | 缩小终端字体                                                 |



### 二、 打包解压文件

打包文件以.tar结尾，解压以.gz结尾；两者一般同时运行.tar.gz。

#### 2.1 命令参数

| 参数                  | **解释**                       |
| --------------------- | ------------------------------ |
| -c                    | 打包文件                       |
| -x                    | 解压                           |
| -t                    | 查看里面文件                   |
| -v                    | 显示运行过程                   |
| -f (有的话必须在最后) | 指定文件名                     |
| -p                    | 使用原属性                     |
| -N                    | 比后面接的日期还新的才会被操作 |



#### 2.2 压缩命令

| 命令                      | 解释                                                  |
| ------------------------- | ----------------------------------------------------- |
| tar -zcvf test.tar T/*    | 将T目录下的所有文件压缩成名为test压缩包（创建压缩包） |
| tar -tf test.tar          | 查看test压缩包                                        |
| tar -rvf test.tar file    | 向test压缩包加文件                                    |
| tar -xvf test.tar -C /usr | 解压test到usr目录                                     |

例如：

```shell
要求： test下有aaa.txt、bbb.txt，将test打包并指定名为test.tar.gz。
             tar -zcvf test.tar.gz aaa.txt bbb.txt  
       或         tar -zcvf test.tar.gz /test/
```



#### 2.3 解压命令

| 命令              | 解释           |
| ----------------- | -------------- |
| tar -zxvf test.gz | 解压test压缩包 |



#### 2.4 解压/压缩命令

| 命令                                  | 解释                    |
| ------------------------------------- | ----------------------- |
| bunzip2 test.bz2                      | 解压名为test.bz2的文件  |
| bzip2 test（压缩文件的后缀为bz）      | 压缩名为test的文件      |
| gunzip test.gz                        | 解压test.gz文件         |
| gzip test （压缩文件的后缀为zip或gz） | 压缩test文件            |
| zip test test1                        | 将test1压缩成test压缩包 |



### 三、 创建目录/文件

#### 3.1 mkdir命令

mkdir：创建目录

| 命令              | 解释                             |
| ----------------- | -------------------------------- |
| mkdir test        | 创建test目录                     |
| mkdir test1 test2 | 同时创建两个目录（删除也是这样） |

#### 3.2 touch命令

touch：创建文件

| 命令       | 解释         |
| ---------- | ------------ |
| touch test | 创建test文件 |



### 四、 删除目录/文件

#### 4.1 rm命令

rm：删除目录/文件

| 命令        | 解释                 |
| ----------- | -------------------- |
| rm -f test  | 删除test文件         |
| rm -rf test | 删除test目录及其内容 |

#### 4.2 rmdir命令

rmdir：只能删除空目录

| 命令              | 解释                         |
| ----------------- | ---------------------------- |
| rmdir test        | 删除test目录                 |
| rmdir test1 test2 | 同时删除test1和test2两个目录 |



### 五、 移动目录/文件

#### 5.1 mv命令

mv：移动文件位置

| 命令           | 解释                 |
| -------------- | -------------------- |
| -i             | 覆盖文件前提示       |
| mv test1 test2 | 将test1移动到test2中 |



### 六、 操作目录/文件

#### 6.1 cd命令

cd：切换目录

| 命令    | 解释                   |
| ------- | ---------------------- |
| cd ..   | 返回上一层目录         |
| cd /    | 切换到系统根目录       |
| cd ~    | 切换到用户主目录       |
| cd -    | 切换到上一个操作的目录 |
| cd test | 切换到test目录         |

#### 6.2 ls命令

ls：查看目录/文件内容

| 命令                                    | 解释                             |
| --------------------------------------- | -------------------------------- |
| ls -l                                   | 查看目录详细信息                 |
| ls -a                                   | 查看目录全部文件（包括隐藏文件） |
| ls * [0-9] * （星号与中括号间没有空格） | 显示包含数字的文件名和目录名     |
| tree（进入某目录后）                    | 以树结构显示                     |

#### 6.3 cp命令

cp： 复制目录 / 文件

| 命令            | 解释                                                         |
| --------------- | ------------------------------------------------------------ |
| -i              | 覆盖文件前提示                                               |
| cp test1 test2  | 复制文件test1到test2位置                                     |
| -r              | 若给出的源文件是目录文件，则 cp 将递归复制该目录下的所有子目录和文件，目标文件必须为一个目录名 |
| cp -r test Test | 复制整个目录test到Test位置                                   |

#### 6.4 ln [链接] 命令

ln：创建目录 / 文件的链接

| 命令                          | 解释                                                        |
| ----------------------------- | ----------------------------------------------------------- |
| ln -s 被链接的源文件 链接文件 | 建立文件的软链接，用通俗的方式讲类似于 Windows 下的快捷方式 |
| ln -s aaa test                | 给aaa创建名为test的软链接                                   |
| ln aaa test                   | 给aaa创建名为test的硬链接                                   |

**软连接与硬链接区别：**

| 软链接                                                       | 硬链接                                                   |
| ------------------------------------------------------------ | -------------------------------------------------------- |
| 以路径形式存在                                               | 以文件形式，不占实际空间                                 |
| 可跨文件系统                                                 | 不可跨文件系统                                           |
| 可对目录链接                                                 | 不可对目录链接                                           |
| 可对不存在的文件链接                                         | 只要同一个文件系统才能创建                               |
| 删除软连接不影响被指向文件，删除文件的话软连接就被称为死链接 | 删除硬链接不影响文件和软连接，删除源文件不影响硬链接文件 |

> 注意：1、没有 `-s` 选项建立的是一个 硬链接文件两个文件占用相同大小的硬盘空间，工作中**几乎不会建立文件的硬链接**。2、源文件要**使用绝对路径**，不能使用相对路径，这样可以方便移动链接文件后，仍然能够正常使用



#### 6.5 pwd命令

pwd：查看当前目录的路径

| 命令 | 解释               |
| ---- | ------------------ |
| pwd  | 查看当前目录的路径 |



#### 6.6 cat命令

cat：(三个功能）①查看文件内容；②将几个文件合并为一个文件；③创建一个文件（只能创建，不能编辑已有文件）。

| 选项 |        含义         |
| ---- | :-----------------: |
| -b   |  对非空输出 行编号  |
| -n   | 对输出的所有 行编号 |

> **Linux 中还有一个 nl 的命令和 cat -b 的效果等价**

| 命令                   | 解释                     |
| ---------------------- | ------------------------ |
| cat test               | 查看文件内容             |
| cat test1 test2 > test | 将test1和test2合并为test |
| cat > test             | 创建test文件             |



#### 6.7 tree命令

tree：tree 命令可以以树状图列出文件目录结构

| 选项 | 含义       |
| ---- | ---------- |
| -d   | 只显示目录 |



#### 6.8 more 命令

- more 命令可以用于分屏显示文件内容，每次只显示一页内容
- 适合于 查看内容较多的文本文件

**使用 more 的操作键：**

| 操作键 | 功能                    |
| ------ | ----------------------- |
| 空格键 | 显示手册页的下一屏      |
| Enter  | 键 一次滚动手册页的一行 |
| b      | 回滚一屏                |
| f      | 前滚一屏                |
| q      | 退出                    |
| /word  | 搜索 word 字符串        |



#### 6.9 echo 文字内容

echo 会在终端中显示参数指定的文字，通常会和 重定向 联合使用



#### 6.10 重定向 > 和 >>

Linux 允许将命令执行结果 重定向到一个 文件
将本应显示在终端上的内容 输出／追加 到指定文件中
其中
**> 表示输出，会覆盖文件原有的内容**
**>> 表示追加，会将内容追加到已有文件的末尾**



### 七、 文件搜索

#### 7.1 find命令

find： 搜索目录/文件

| 命令                     | 解释                                          |
| ------------------------ | --------------------------------------------- |
| find [路径] -name “*.py” | 查找指定路径下扩展名是 .py 的文件，包括子目录 |
| find / -name test        | 从’/’开始搜索名为test的文件目录               |
| locate *.ps              | 搜索后缀为.ps的文件                           |
| find /a -name *.bin      | 在a中搜索后缀为.bin的文件                     |

> 如果省略路径，则表示在当前文件夹开始搜索



#### 7.2 grep命令

Linux 系统中 grep 命令是一种强大的文本搜索工具
grep 允许对文本文件进行 模式查找，所谓模式查找，又被称为正则表达式。

| 选项 |                   含义                   |
| ---- | :--------------------------------------: |
| -n   |             显示匹配行及行号             |
| -v   | 显示不包含匹配文本的所有行（相当于求反） |
| -i   |                忽略大小写                |

常用的两种模式查找

| 参数 |           含义           |
| ---- | :----------------------: |
| ^a   | 行首，搜寻以 a 开头的行  |
| ke$  | 行尾，搜寻以 ke 结束的行 |

grep：在文件中查找某个字符

| 命令    |         解释         |
| ------- | :------------------: |
| grep te | 在文件中查找有te字符 |





### 八、 vi / vim的命令

| 命令 | 解释             |
| ---- | ---------------- |
| :q   | 退出             |
| :q!  | 强制不保存退出   |
| :w   | 写入             |
| :w!  | 强制写入         |
| :wq  | 保存编辑并退出   |
| :wq! | 保存编辑强制退出 |



### 九、软件安装

**通过 apt 安装／卸载软件**

- apt 是 `Advanced Packaging Tool` ，是 Linux 下的一款安装包管理工具
- 可以在终端中方便的 **安装／卸载／更新软件包**

```shell
# 1. 安装软件
$ sudo apt install 软件包
# 2. 卸载软件
$ sudo apt remove 软件名
# 3. 更新已安装的包
$ sudo apt upgrade
```



### 十、其它

#### 管道 |

- Linux 允许将 一个命令的输出 可以通过管道 做为 另一个命令的输入
- 可以理解现实生活中的管子，管子的一头塞东西进去，另一头取出来，这里 | 的左右分为两端，
  左端塞东西（写），右端取东西（读）

常用的管道命令有：

- more ：分屏显示内容
- grep ：在命令执行结果的基础上查询指定的文本



### 十一、系统信息相关命令

#### 11.1 时间和日期

| 序号 | 命令 | 作用                                          |
| ---- | ---- | --------------------------------------------- |
| 01   | date | 查看系统时间                                  |
| 02   | cal  | calendar 查看日历， -y 选项可以查看一年的日历 |



#### 11.2 磁盘信息

| 序号 | 命令           | 作用                            |
| ---- | -------------- | ------------------------------- |
| 01   | df -h          | disk free 显示磁盘剩余空间      |
| 02   | du -h [目录名] | disk usage 显示目录下的文件大小 |



#### 11.3 进程信息

所谓**进程**，通俗地说就是 **当前正在执行的一个程序**

| 序号 | 命令               | 作用                                 |
| ---- | ------------------ | ------------------------------------ |
| 01   | ps aux             | process status 查看进程的详细状况    |
| 02   | top                | 动态显示运行中的进程并且排序         |
| 03   | kill [-9] 进程代号 | 终止指定代号的进程， -9 表示强行终止 |

ps 默认只会显示当前用户通过终端启动的应用程序

> 选项说明

| 选项 | 含义                                     |
| ---- | ---------------------------------------- |
| a    | 显示终端上的所有进程，包括其他用户的进程 |
| u    | 显示进程的详细状态                       |
| x    | 显示没有控制终端的进程                   |

提示：使用 kill 命令时，最好只终止由当前用户开启的进程，而不要终止 root 身份开启的进程，否则可能导致系统崩溃

- 要退出 top 可以直接输入 q



### 十二、用户权限相关命令

#### 12.1 组管理

==提示：创建组 / 删除组 的终端命令都需要通过 sudo 执行==

| 序号 | 命令                      | 作用                      |
| ---- | ------------------------- | ------------------------- |
| 01   | groupadd 组名             | 添加组                    |
| 02   | groupdel 组名             | 删除组                    |
| 03   | cat /etc/group            | 确认组信息                |
| 04   | chgrp -R 组名 文件/目录名 | 递归修改文件/目录的所属组 |

>提示：
>组信息保存在 /etc/group 文件中
>/etc 目录是专门用来保存 系统配置信息 的目录



#### 12.2 用户管理

> 提示：创建用户 / 删除用户 / 修改其他用户密码 的终端命令都需要通过 sudo 执行

##### 12.2.1 创建用户／设置密码／删除用户

| 序号 | 命令                           | 作用         | 说明                                                         |
| ---- | ------------------------------ | ------------ | ------------------------------------------------------------ |
| 01   | useradd -m -g 组 新建用户名    | 添加新用户   | - m 自动建立用户家目录<br />- g  指定用户所在的组，否则会建立一个同名的组 |
| 02   | passwd 用户名                  | 设置用户密码 | 如果是普通用户，直接用 passwd 可以修改自己的账户密码         |
| 03   | userdel -r  用户名             | 删除用户     | -r 选项会自动删除用户家目录                                  |
| 04   | cat /etc/passwd \| grep 用户名 | 确认用户信息 | 新建用户后，用户信息会保存在 /etc/passwd 文件中              |

> 提示：
>
> * 创建用户时，如果忘记添加 -m 选项指定新用户的家目录 —— 最简单的方法就是删除用户，重新创建
> * 创建用户时，默认会创建一个和用户名同名的组名
> * 用户信息保存在 /etc/passwd 文件中



##### 12.2.2 查看用户信息

| 序号 | 命令        | 作用                       |
| ---- | ----------- | -------------------------- |
| 01   | id [用户名] | 查看用户 UID 和 GID 信息   |
| 02   | who         | 查看当前所有登录的用户列表 |
| 03   | whoami      | 查看当前登录用户的账户名   |



##### 12.2.3 which（重要）

>提示
>
>* /etc/passwd 是用于保存用户信息的文件
>* /usr/bin/passwd 是用于修改用户密码的程序


which 命令可以查看执行命令所在位置，例如：

```shell
which ls
# 输出
# /bin/ls
which useradd
# 输出
# /usr/sbin/useradd
```



##### 12.2.4 bin 和 sbin

在 Linux 中，绝大多数可执行文件都是保存在 /bin 、 /sbin 、 /usr/bin 、 /usr/sbin
/bin （ binary ）是二进制执行文件目录，主要用于具体应用
/sbin （ system binary ）是系统管理员专用的二进制代码存放目录，主要用于系统管理
/usr/bin （ user commands for applications ）后期安装的一些软件
/usr/sbin （ super user commands for applications ）超级用户的一些管理程序

>提示：
>cd 这个终端命令是内置在系统内核中的，没有独立的文件，因此用 which 无法找到 cd命令的位置



##### 12.2.5 切换用户

| 序 号 | 命令        | 作用                   | 说明                                     |
| ----- | ----------- | ---------------------- | ---------------------------------------- |
| 01    | su - 用户名 | 切换用户，并且切换目录 | - 可以切换到用户家目录，否则保持位置不变 |
| 02    | exit        | 退出当前登录账户       |                                          |

su 不接用户名，可以切换到 root ，但是不推荐使用，因为不安全



##### 12.2.6 修改文件权限

| 序号 | 命令  | 作用       |
| ---- | ----- | ---------- |
| 01   | chown | 修改拥有者 |
| 02   | chgrp | 修改组     |
| 03   | chmod | 修改权限   |

命令格式如下：

```shell
# 修改文件|目录的拥有者
chown 用户名 文件名|目录名
# 递归修改文件|目录的组
chgrp -R 组名 文件名|目录名
# 递归修改文件权限
chmod -R 755 文件名|目录名
```



### 十三、远程管理常用命令

#### 13.1 关机/重启

| 序号 | 命令     | 对应英文           | 作用           |
| ---- | -------- | ------------------ | -------------- |
| 01   | shutdown | 选项 时间 shutdown | 关机／重新启动 |

常用命令示例

```shell
# 重新启动操作系统，其中 now 表示现在
$ shutdown -r now
# 立刻关机，其中 now 表示现在
$ shutdown now
# 系统在今天的 20:25 会关机
$ shutdown 20:25
# 系统再过十分钟后自动关机
$ shutdown +10
# 取消之前指定的关机计划
$ shutdown -c
```

不指定选项和参数，默认表示 1 分钟之后 关闭电脑
远程维护服务器时，最好不要关闭系统，而应该重新启动系统



#### 13.2 查看配置网卡信息

| 序 号 | 命令        | 对应英文                      | 作用                              |
| ----- | ----------- | ----------------------------- | --------------------------------- |
| 01    | ifconfig    | configure a network interface | 查看/配置计算机当前的网卡配置信息 |
| 02    | ping ip地址 | ping                          | 检测到目标 ip地址 的连接是否正常  |

##### 13.2.1 ifconfig

ifconfig 可以查看／配置计算机当前的网卡配置信息

```shell
# 查看网卡配置信息
$ ifconfig
# 查看网卡对应的 IP 地址
$ ifconfig | grep inet
```

> 提示：一台计算机中有可能会有一个 物理网卡 和 多个虚拟网卡，在 Linux 中物理网卡的名字通常以 ensXX 表示
> 127.0.0.1 被称为 **本地回环/环回地址**，一般用来测试本机网卡是否正常

##### 13.2.2 ping

ping 一般用于检测当前计算机到目标计算机之间的网络 **是否通畅，数值越大，速度越慢**

```shell
# 检测到目标主机是否连接正常
$ ping IP地址
# 检测本地网卡工作正常
$ ping 127.0.0.1
```

> ping 的工作原理与潜水艇的声纳相似， ping 这个命令就是取自 声纳的声音
> 网络管理员之间也常将 ping 用作动词 —— ping 一下计算机X，看他是否开着



#### 13.3 远程登录和赋值文件

| 序号 | 命令                                              | 对应英文     | 作用            |
| ---- | ------------------------------------------------- | ------------ | --------------- |
| 01   | ssh 用户名@ip                                     | secure shell | 关机 / 重新启动 |
| 02   | scp 用户名@ip:文件名或路径 用户名@ip:文件名或路径 | secure copy  | 远程复制文件    |

##### 13.3.1 ssh 基础（重点）

在 Linux 中 SSH 是 **非常常用** 的工具，通过 **SSH 客户端** 我们可以连接到运行了 **SSH 服务器** 的远程机器上

<img src="linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.assets/image-20210824102846284.png" alt="image-20210824102846284" style="zoom: 67%;" />

ssh的简单使用：

```shell
ssh [-p port] user@remote
```

- user 是在远程机器上的用户名，如果不指定的话默认为当前用户
- remote 是远程机器的地址，可以是 IP／域名，或者是 后面会提到的别名
- port 是 SSH Server 监听的端口，如果不指定，就为默认值 22

> 提示：
>
> * 使用 exit 退出当前用户的登录
> * ssh 这个终端命令只能在 Linux 或者 UNIX 系统下使用
> * 如果在 Windows 系统中，可以安装 PuTTY 或者 XShell 客户端软件即可
> * 在工作中，SSH 服务器的端口号很有可能不是 22，如果遇到这种情况就需要使用 -p 选项，指定正确的端口号，否则无法正常连接到服务器

##### 13.3.2 scp 

scp 就是 secure copy ，是一个在 Linux 下用来进行 **远程拷贝文件** 的命令，它的**地址格式与 ssh 基本相同**，需要注意的是，在指定端口时用的是大写的 -P 而不是小写的

```shell
# 把本地当前目录下的 01.py 文件 复制到 远程 家目录下的 Desktop/01.py
# 注意：`:` 后面的路径如果不是绝对路径，则以用户的家目录作为参照路径
scp -P port 01.py user@remote:Desktop/01.py
# 把远程 家目录下的 Desktop/01.py 文件 复制到 本地当前目录下的 01.py
scp -P port user@remote:Desktop/01.py 01.py
# 加上 -r 选项可以传送文件夹
# 把当前目录下的 demo 文件夹 复制到 远程 家目录下的 Desktop
scp -r demo user@remote:Desktop
# 把远程 家目录下的 Desktop 复制到 当前目录下的 demo 文件夹
scp -r user@remote:Desktop demo
```

| 选 项 | 含义                                                         |
| ----- | ------------------------------------------------------------ |
| -r    | 若给出的源文件是目录文件，则 scp 将递归复制该目录下的所有子目录和文件，目标文件必须为一个目录名 |
| -P    | 若远程 SSH 服务器的端口不是 22，需要使用大写字母 -P 选项指定端口 |

>注意：
>scp 这个终端命令只能在 `Linux` 或者 `UNIX` 系统下使用
>如果在 Windows 系统中，可以安装 PuTTY ，使用 pscp 命令行工具或者安装 FileZilla使用 FTP 进行文件传输